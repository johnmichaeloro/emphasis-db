<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <% include ../partials/cssLinks.ejs %>
	</head>
	<body>

	<br><br><br><br><br><br>
<div class="container-fluid">

<div class="row">

  <div class="col-md-2" id="filterBox">
  <form action="/entries" method="get">

    <div class="filterOption">
      <h4>Content Type</h4>
      <select name="contentType">
        <option value="<%=content%>"><%=content%></option>
        <option value="news">News</option>
        <option value="opinion">Opinion</option>
        <option value="fiction">Fiction</option>
        <option value="marketing">Marketing</option>
        <option value="business">Business</option>
        <option value="legal">Legal</option>
        <option value="technical">Technical</option>
        <option value="academic">Academic</option>
        <option value="oratory">Oratory</option>
        <option value="other">Other</option>
        <option value="ALL">ALL</option>
      </select>
    </div>

    <div class="filterOption">
    <h4>Author Name</h4>
    <input type="text" name="authorName" value="<%=author%>">
    </div>

    <div class="filterOption">
      <button type="submit">Filter Entries</button>
    </div>
  </form>
</div>
<div class="col-sm-10">

</div>
</div>
<div class="col-sm-11" id="filterBox2">
<form action="/entries" method="get">

  <div class="col-md-3 filterOption">
    <h4>Content Type</h4>
    <select name="contentType">
      <option value="<%=content%>"><%=content%></option>
      <option value="news">News</option>
      <option value="fiction">Fiction</option>
      <option value="non-fiction">Non-Fiction</option>
      <option value="technical">Technical</option>
      <option value="marketing">Marketing</option>
      <option value="business">Business</option>
      <option value="entertainment">Entertainment</option>
      <option value="studentEssay">Student Essay</option>
      <option value="ALL">ALL</option>
    </select>
  </div>

  <div class="col-md-3 filterOption">
  <h4>Author Name</h4>
  <input type="text" name="authorName" value="<%=author%>">
  </div>

  <div class="col-md-3 filterOption">
    <button type="submit">Filter Entries</button>
  </div>
</form>
</div>
<div class="row">
  <div class="col-md-1">

  </div>
  <div class="col-md-10 entryTitle">
    <h1>ENTRY DATABASE</h1>
  </div>
</div>
<br><br><br><br>
<div class="col-md-2">

</div>
<div class="col-md-10" id="entriesIndex">
  <% if (totalEnt.length > 0){%>
      <% for (let i = 0; i < entries.length; i++) {%>
        <div class="col-md-5 entry">
        <a href="/entries/<%=entries[i]._id%>" class="entryLink">
        <div class="col-md-12">
            <h4><%=entries[i].title%></h4>
            <div class="">
            <div class="entryInfo"><%=entries[i].string.length%> Characters</div>
            <div class="entryInfo"><%=entries[i].author%></div>
            </div>
            <p class="col-md-12 entryPDisplay">
              <%=entries[i].text[0].text%>
            </p>
        </div>
        </a>
      </div>
      <%}%>
      <%} else {%>
        <div class="col-md-10 entry">
        <div class="col-md-12">
            <h4 style="font-size:30px">No Entries Of This Type</h4>
            <a href="/entries/new"><h3 class="createPrompt">Create One?</h5></a>
            <a href="/entries"><h3 class="createPrompt">Try Again?</h5></a>
        </div>
        </a>
      </div>
      <%}%>
  </div>
<br><br><br>
<div class="container selectPage col-md-12">
  <div class="col-md-12 pageForm">
    <form action="/entries" method="get">
        <% let base = pageNum - 5;%>
        <% let top = pageNum + 5;%>
        <% if (top > (totalEnt.length/16)){top = (totalEnt.length/16)} %>
        <% if (base <= 0){base = 1} %>
        <% if (pageNum > 5){%>
        <button type="submit" name="number" value="<%=1%>">1...</button>
        <% } %>
        <% for (let i = base; i < top; i++){ %>
          <button type="submit" name="number" value="<%=i%>"><%=i%></button>
        <% } %>

    </form>
    </div>
  </div>
</div>


    <% include ../partials/navbar.ejs %>
  </body>
</html>
